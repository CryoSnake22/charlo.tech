<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>
         A Quick dive into Black Scholes
        
    </title><meta content="A Quick dive into Black Scholes" property=og:title><meta content="My personnal website" property=og:description><meta content="My personnal website" name=description><link href=/icon/favicon.png rel=icon type=image/png><link href=https://charlo.tech/fonts.css rel=stylesheet><script src=https://charlo.tech/js/codeblock.js></script><script src=https://charlo.tech/js/note.js></script><script>window.MathJax={loader:{load:['[tex]/ams']},tex:{packages:{'[+]':['ams']},inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],processEscapes:true,tags:'ams'}}</script><script defer id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><link href=https://charlo.tech/public/main.css rel=stylesheet><link href=https://charlo.tech/rss.xml rel=alternate title=CharloPL type=application/rss+xml><link href=https://charlo.tech/theme/light.css rel=stylesheet><link href=https://charlo.tech/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://charlo.tech/js/themetoggle.js></script><script>setTheme(getSavedTheme())</script><link href=https://charlo.tech/main.css media=screen rel=stylesheet><body><div class=content><header><div class=main><a href=https://charlo.tech/>CharloPL</a><div class=socials><a class=social href=https://github.com/CryoSnake22 rel=me> <img alt=github src=https://charlo.tech/social_icons/github.svg> </a><a class=social href rel=me> <img alt=youtube src=https://charlo.tech/social_icons/youtube.svg> </a><a class=social href rel=me> <img alt=rss src=https://charlo.tech/social_icons/rss.svg> </a><a class=social href=https://www.linkedin.com/in/charles-antoine-pouliot-977286283/ rel=me> <img alt=linkedin src=https://charlo.tech/social_icons/linkedin.svg> </a></div></div><nav><a href=https://charlo.tech/posts style=margin-left:.25em>/posts</a><a href=https://charlo.tech/projects style=margin-left:.25em>/projects</a><a href=https://charlo.tech/about style=margin-left:.25em>/about</a><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://charlo.tech/feather/sun.svg style=filter:invert(1)> <img alt=Dark id=moon-icon src=https://charlo.tech/feather/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><main><article><div class=title><div class=page-header>A Quick dive into Black Scholes<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Posted on <time>2025-10-16</time></div></div><section class=body><p><strong>Intuition and Thinking</strong> Imagine pricing a stock using a basic $\mu$ like so<p>$$ dS_{t}=\mu S_{t}dt+\sigma S_{t}dW_{t}^{\mathbb{P}} $$<p>Where $\mathbb{P}$ is the typical probability measure. Then what we’re trying to do here is estimate the price of the stock to get a payoff then price an option using that. But what if<ul><li>Bob thinks the price is going to rise 20% and wants $\mu=0.2$<li>Alice thinks the price is going to fall 10% and wants $\mu=-0.1$.</ul><p>How do we price the option ? The truth is we cannot price the option in this biased manner we have to assume the most risk neutral basic expected thing, otherwise we introduce arbitrage where taking bets in a certain direction consistently yields more profit, aka an <em>arbitrage opportunity</em>. So we have to change our pricing and assume an idealized world where every stock grows at the risk neutral rate. We therefore end up with<p>$$ \begin{align*} dS_{t}&=(r-q)S_{t}dt+\sigma S_{t}dW_{t}^{\mathbb{Q}} \\ dS_{t}&=rS_{t}dt+\sigma S_{t}dW_{t}^{\mathbb{Q}} \\ \end{align*} $$<p>Where $r-q$ is the average expected return per year minus the dividends given by the company (which eat away at stock value). Which we simplify to simply $rS_{t}dt$ since we assumed $q=0$. Then we can finally write the option payoff as<p>$$ P=e^{-rT}\mathbb{E}^{\mathbb{Q}}[\text{payoff}(S_{t})] $$<p><em>Payoff for european options:</em> For a european option, the payoff is simply<p>$$ \text{payoff} = \max(S_{t}-K,0) $$<p>Where $K$ is the strike price of the option. Now let $\Pi_{t}$ be a [[Portfolio|hedged portfolio]] of the form<p>$$ \Pi_{t}=V(S_{t},t)-\Delta_{t}S_{t} $$<p>Wher $V(S_{t},t)$ is a shorthand for $V(S_{t},t;K,r,\sigma,T)$. and $\Delta_{t}$ is the quantity of stock held at time $t$. We know that $V(S_{t},t)$ depends on the random process $S_{t}$ with $dS_{t}=rS_{t}dt+\sigma S_{t}dW_{t}$, we can therefore apply [[Ito’s Lemma (Stochastic Processes)|ito’s lemma]]. So<p>$$ \begin{align*} dV&=V_{t}dt+V_{S}dS_{t}+\frac{1}{2} V_{S S}(dS_{t})^{2} \\ &=V_{t}dt+V_{S}(rS_{t}dt+\sigma S_{t}dW_{t})+\frac{1}{2}V_{S S}(rS_{t}dt+\sigma S_{t}dW_{t})^{2} \\ &=V_{t}dt+V_{S}rS_{t}dt+V_{S}\sigma S_{t}dW_{t}+\frac{1}{2}V_{S S}((rS_{t}dt)^{2}+2r\sigma S_{t}^{2}(dW_{t}dt)+(\sigma S_{t}(dW_{t}))^{2} \end{align*} $$<p>From the properties $dt^{2}=0$, $dW_{t}dt=0$ and $dW_{t}^{2}=dt$ so most of the terms disapear<p>$$ \begin{align*} dV&=V_{t}dt+rV_{S}S_{t}dt+\sigma V_{S} S_{t}dW_{t}+\frac{1}{2}V_{S S}(0+0+\sigma^{2}S_{t}^{2}dt) \\ &=V_{t}dt+rV_{S}S_{t}dt+\sigma V_{S}S_{t}dW_{t}+\frac{1}{2}V_{S S}\sigma^{2}S_{t}^{2}dt\\ dV&=(V_{t}+rV_{S}S_{t}+\frac{1}{2}\sigma^{2}V_{S S}S_{t}^{2})dt+\sigma V_{S} S_{t}dW_{t}\\ \end{align*} $$<p>The final expansion is<p>$$ \boxed{ dV=(V_{t}+rV_{S}S_{t}+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S})dt+\sigma S_{t}V_{S} dW_{t}} $$<p><em>I couldve just skipped to the final form with the basic ito derivation but where’s the fun in that</em>. Great so now we have $dV$ and $dS$ so we can find $d\Pi_{t}$<p>$$ \begin{align*} d\Pi_{t}&=dV-\Delta_{t}dS_{t} \\ &= ((V_{t}+rV_{S}S_{t}+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S})dt+\sigma S_{t}V_{S} dW_{t})-\Delta_{t}(rS_{t}dt+\sigma S_{t}dW_{t}) \end{align*} $$<p>We want to cancel our the randomness, so here we have two terms $\sigma S_{t}V_{S}dW_{t}$ and $-\Delta_{t}(\sigma S_{t}dW_{t})$ If we want to ensure deterministic behaviour, we need to cancel out the $dW_{t}$’s so we set $\Delta_{t}=V_{S}$ which leads to $\sigma S_{t}V_{S}dW_{t}-\sigma S_{t}V_{S}dW_{t}=0$, therefore<p>$$ \begin{align*} d\Pi_{t}&=(V_{t}+rV_{S}S_{t}+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S})dt+\sigma S_{t}V_{S}dW_{t} -rS_{t}V_{S}dt-\sigma S_{t}V_{S}dW_{t} \\ &=(V_{t}+rV_{S}S_{t}+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S})dt-rS_{t}V_{S}dt+(\sigma S_{t}V_{S}dW_{t} -\sigma S_{t}V_{S}dW_{t}) \\ &=(V_{t}+rV_{S}S_{t}+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S})dt-rS_{t}V_{S}dt+(0)\\ &=V_{t}dt+rV_{S}S_{t}dt+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S}dt-rS_{t}V_{S}dt\\ &=V_{t}dt+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S}dt+rV_{S}S_{t}dt-rS_{t}V_{S}dt\\ &=V_{t}dt+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S}dt \end{align*} $$<p>And since we have $d\Pi_{t}=r\Pi_{t}dt$ since it’s a riskless portfolio, we can set<p>$$ \begin{align*} V_{t}dt+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S}dt&=r \Pi_{t}dt \\ V_{t}dt+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S}dt-r \Pi_{t}dt&=0 \end{align*} $$<p>Since we set $\Delta_{t}=V_{S}$ we can say $\Pi_{t}=V-V_{S}S_{t}$ therefore<p>$$ \begin{align*} V_{t}dt+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S} dt-r(V-V_{S}S_{t})dt&=0 \\ V_{t}dt+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S} dt-rVdt-rV_{S}S_{t}dt&=0 \\ (V_{t}+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S} -rV-rV_{S}S_{t})dt&=0 \\ \end{align*} $$<p>Which implies for a non-zero $dt$ that<p>$$ V_{t}+\frac{1}{2}\sigma^{2}S_{t}^{2}V_{S S}+rS_{t}V_{S}-rV=0 $$<p><em>How this fits and why we’re doing this</em> Essentially the question we’re asking is: at time $t&LTT$ what would be the fair price of an option such that its expected payoff aligns with the risk free rate. Or even more bluntly, what’s a fair price for the option right now so that if I hedged it correctly it would essentially be the same as depositing into a risk free bank account or a riskless government bond at rate $r$.<p>I am going to skip the derivation of the closed form since I’m limited on time, but I will come back to it at some point.<p>The final closed form with $q=0$ <em>European Call Option</em><p>$$ C(S,t)=S\Phi(d_{1})-Ke^{(-r(T-t))}\Phi(d_{2}) $$<p>$$ d_{1}=\frac{\ln\left( \frac{S}{K} \right)+\left( r+\frac{1}{2}\sigma^{2} \right)(T-t)}{\sigma \sqrt{ T-t }} $$<p>$$ d_{2}=d_{1}-\sigma \sqrt{ T-t } $$<p>If instead we were pricing a<em>European Put Option</em> the closed form would be this:<p>$$ P(S,t)=Ke^{(-r(T-t))}\Phi(d_{2})-S\Phi(d_{1}) $$<p>This comes from <em>put-call parity</em>. If $q\neq 0$ then we simply replace $r$ with $r-1$ in $d_{1}$ and other adjustments. In practice we typically keep the dividend term $q$ to make the model generalize better which leads to the following closed form.<p><em>European Call Option with non-zero q</em><p>$$ C(S,t)=Se^{(-q(T-t))}\Phi(d_{1})-Ke^{-r(T-t)}\Phi(d_{2}) $$<p><em>European Put Option with non-zero q</em><p>$$ C(S,t)=Ke^{-r(T-t)}\Phi(d_{2})-Se^{(-q(T-t))}\Phi(d_{1}) $$<p>With the $d_{1},d_{2}$ terms as<p>$$ d_{1}=\frac{\ln\left( \frac{S}{K} \right)+\left( r-q+\frac{1}{2}\sigma^{2} \right)(T-t)}{\sigma \sqrt{ T-t }} $$<p>$$ d_{2}=d_{1}-\sigma \sqrt{ T-t } $$</section></article></main></div>